<!DOCTYPE html>
<html>
    <head>
        
<title>Spy | GB Characters</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!--Styles-->
<link rel="stylesheet" href="../../dist/css/newStyles.css" />
<link rel="stylesheet" href="../../dist/css/characterStyles.css" />

<!--Fonts-->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Palanquin+Dark:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Palanquin:wght@100;200;300;400;500;600;700&amp;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet"> 
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet"> 

<!--Icons-->
<link href="https://dawneggleton.github.io/css/all.css" rel="stylesheet" />

<!--Script Libraries-->
<script type='text/javascript' src='https://files.jcink.net/html/jquery-1.7.2.min.js'></script>
<script type='text/javascript' src='https://files.jcink.net/html/jquery.cookie-1.3.1.js'></script> 
<script type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/2.2.2/isotope.pkgd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

<!--Settings-->
<script type='text/javascript' src='../../dist/js/settings.js'></script>

<!--Scripts-->
<script type='text/javascript' src='../../dist/js/functions.js'></script>
        <link rel="stylesheet" href="../../dist/css/gbCharacters.css" />
    </head>
    <body>
        <nav>
    <ul>
        <li>
            <a href="../../public/index.html"><i class="fa-solid fa-house" width="30px"></i></a>
        </li>
        <li>
            <a href="../../public/forms/thread.html" class="highlight"><i class="fa-solid fa-plus"></i> Add</a>
            <ul>
                <li><a href="../../public/forms/thread.html">Add a Thread</a></li>
                <li><a href="../../public/forms/site.html">Add a Site</a></li>
                <li><a href="../../public/forms/character.html">Add a Character</a></li>
                <li><a href="../../public/forms/partner.html">Add a Partner</a></li>
                <li><a href="../../public/forms/directory.html">Add to Directory</a></li>
            </ul>
        </li>
        <li>
            <a href="../../public/directory.html">Directory</a>
        </li>
        <li> | </li>
        <li>
            <a href="../../public/sites/gb.html">Godly Behaviour</a>
            <ul>
                <li><a href="../../public/tracking/gb.html">Threads</a></li>
                <li><a href="../../public/tracking/gb-archived.html">Archived Threads</a></li>
                <li><a href="../../public/charts/gb.html">Charts</a></li>
                <li><a href="../../public/characters/gb.html">Characters</a></li>
            </ul>
        </li>
        <li>
            <a href="../../public/sites/totl.html">Turn On The Light</a>
            <ul>
                <li><a href="../../public/tracking/totl.html">Threads</a></li>
                <li><a href="../../public/charts/totl.html">Charts</a></li>
                <li><a href="../../public/characters/totl.html">Characters</a></li>
            </ul>
        </li>
        <li>
            <a href="../../public/sites/rtn.html">Remember The Name</a>
            <ul>
                <li><a href="../../public/tracking/rtn.html">Threads</a></li>
                <li><a href="../../public/charts/rtn.html">Charts</a></li>
                <li><a href="../../public/characters/rtn.html">Characters</a></li>
            </ul>
        </li>
        <li>
            <a href="" class="inactive">Archives</a>
            <ul>
                <li><a href="../../public/sites/corson.html">Corson Forever</a></li>
                <li><a href="../../public/sites/owe.html">Once We Were</a></li>
            </ul>
        </li>
    </ul>
</nav>
        <section class="characters">
    <div class="tracker--header" data-type="flex">
        <input id="quicksearch" class="forminput memberlist-namesearch" type="text" size="25" name="name" value="" placeholder="Filter by name...">
        <div class="tracker--sort-buttons" data-type="flex">
            <button type="button" class="tracker--sort is-checked" data-sort="charAsc">Name (A -> Z)</button>
            <button type="button" class="tracker--sort" data-sort="charDesc">Name (Z -> A)</button>
            <button type="button" class="tracker--sort" data-sort="ageAsc">Age (Asc)</button>
            <button type="button" class="tracker--sort" data-sort="ageDesc">Age (Desc)</button>
        </div>
    </div>
    <div class="tracker--wrapper">
        <div class="tracker--filters">
            <div class="tracker--filter">
                <button onClick="openFilters(this)">Gender</button>
                <div class="tracker--filter-dropdown">
                    <div class="tracker--filter-group claim--labels" data-filter-group="gender">
                        <label class="all is-checked"><input type="checkbox" class="all" value="" checked="">all</label>
                        <label><input type="checkbox" value=".gender-male">male</label>
                        <label><input type="checkbox" value=".gender-female">female</label>
                        <label><input type="checkbox" value=".gender-nonbinary">nonbinary</label>
                    </div>
                </div>
            </div>
            <div class="tracker--filter">
                <button onClick="openFilters(this)">Age</button>
                <div class="tracker--filter-dropdown">
                    <div class="tracker--filter-group claim--labels" data-filter-group="age">
                        <label class="all is-checked"><input type="checkbox" class="all" value="" checked="">all</label>
                        
                        
                            <label><input type="checkbox" value=".age-under30">Under 30</label>
                            <label><input type="checkbox" value=".age-30-59">30-59</label>
                            <label><input type="checkbox" value=".age-50-99">60-99</label>
                            <label><input type="checkbox" value=".age-100-499">100-499</label>
                            <label><input type="checkbox" value=".age-500-999">500-999</label>
                            <label><input type="checkbox" value=".age-1000-1999">1000-1999</label>
                            <label><input type="checkbox" value=".age-2000-2999">2000-2999</label>
                            <label><input type="checkbox" value=".age-3000">3000+</label>
                        
                    </div>
                    
                        <hr>
                        <div class="tracker--filter-group claim--labels" data-filter-group="immortality">
                            <label class="all is-checked"><input type="checkbox" class="all" value="" checked="">either</label>
                            <label><input type="checkbox" value=".age-mortal">Mortal</label>
                            <label><input type="checkbox" value=".age-immortal">Immortal</label>
                        </div>
                    
                </div>
            </div>
            
                <div class="tracker--filter">
    <button onClick="openFilters(this)">Shipped</button>
    <div class="tracker--filter-dropdown">
        <div class="tracker--filter-group claim--labels" data-filter-group="FilterShipped">
            <label class="all is-checked"><input type="checkbox" class="all" value="" checked="">all</label>
            <label><input type="checkbox" value=".shipped-taken">taken</label>
            <label><input type="checkbox" value=".shipped-wanted">wanted</label>
            <label><input type="checkbox" value=".shipped-open">open</label>
            <label><input type="checkbox" value=".shipped-none">not interested</label>
        </div><hr>
            <div class="tracker--filter-group claim--labels" data-filter-group="needs">
            <label class="all is-checked"><input type="checkbox" class="all" value="" checked="">any</label>
            <label><input type="checkbox" value=".needs-family">family</label>
            <label><input type="checkbox" value=".needs-friends">friends</label>
            <label><input type="checkbox" value=".needs-coworkers">coworkers</label>
            <label><input type="checkbox" value=".needs-flings">flings</label>
            <label><input type="checkbox" value=".needs-romance">romance</label>
            <label><input type="checkbox" value=".needs-enemies">enemies</label>
            <label><input type="checkbox" value=".needs-other">other (ask)</label>
        </div>
    </div>
</div>  
<div class="tracker--filter">
    <button onClick="openFilters(this)">Shipped With</button>
    <div class="tracker--filter-dropdown">
        <div class="tracker--filter-group claim--labels" data-filter-group="FilterShippedWith">
            <label class="all is-checked"><input type="checkbox" class="all" value="" checked="">all</label>
        </div>
    </div>
</div>
<div class="tracker--filter">
    <button onClick="openFilters(this)">Species</button>
    <div class="tracker--filter-dropdown">
        <div class="tracker--filter-group claim--labels" data-filter-group="FilterSpecies">
            <label class="all is-checked"><input type="checkbox" class="all" value="" checked="">all</label>
        </div>
    </div>
</div>
<div class="tracker--filter">
    <button onClick="openFilters(this)">Membergroup</button>
    <div class="tracker--filter-dropdown">
        <div class="tracker--filter-group claim--labels" data-filter-group="FilterMembergroup">
            <label class="all is-checked"><input type="checkbox" class="all" value="" checked="">all</label>
        </div>
    </div>
</div>
<div class="tracker--filter">
    <button onClick="openFilters(this)">Residence</button>
    <div class="tracker--filter-dropdown">
        <div class="tracker--filter-group claim--labels" data-filter-group="housing">
            <label class="all is-checked"><input type="checkbox" class="all" value="" checked="">all</label>
            <label><input type="checkbox" value=".housing-apartment">apartment</label>
            <label><input type="checkbox" value=".housing-condo">condo</label>
            <label><input type="checkbox" value=".housing-rowhouse">rowhouse</label>
            <label><input type="checkbox" value=".housing-house">house</label>
            <label><input type="checkbox" value=".housing-farm">farm</label>
            <label><input type="checkbox" value=".housing-other">other</label>
        </div>
        <hr>
        <div class="tracker--filter-group claim--labels" data-filter-group="residence">
                <label class="all is-checked"><input type="checkbox" class="all" value="" checked="">any</label>
                <label><input type="checkbox" value=".residence-temperance">Temperance</label>
                <label><input type="checkbox" value=".residence-sydney">Sydney</label>
                <label><input type="checkbox" value=".residence-other">other</label>
        </div>
        <hr>
        <div class="tracker--filter-group claim--labels" data-filter-group="homeowner">
                <label class="all is-checked"><input type="checkbox" class="all" value="" checked="">any</label>
                <label><input type="checkbox" value=".homeowner-own">owns</label>
                <label><input type="checkbox" value=".homeowner-rent">rents</label>
                <label><input type="checkbox" value=".homeowner-other">other</label>
        </div>
    </div>
</div>
            
            
            
            
            
        </div>
        <div class="tracker--content">
            <div id="tracker--rows" class="tracker--threads"></div>
        </div>
    </div>
    <script>
        //set overall variables
        const typeSearch = `#quicksearch`;
        const blockTitle = `.grid-item .name`;
        const visible = `is-visible`;
        const filterGroup = `.tracker--filter-group`;
        const filterOptions = `.tracker--filter-group input`;
        const sorts = `.tracker--header button`;
        const gridItem = `.grid-item`;
        const defaultShow = `:not(.status--complete)`;

        //set class variables
        let $container = $('#tracker--rows');
        let filters = "FilterSpecies, FilterShippedWith, FilterMembergroup";
        console.log(filters.split(', '));

        fetch(`https://opensheet.elk.sh/${characterSheet}/Godly Behaviour`)
        .then((response) => response.json())
        .then((data) => {
            console.log(data);
            populateCharacters(data, filters = filters.split(', '), 'https://godlybehaviour.jcink.net');

        }).then(() => {
            //initialize isotope
            // quick search regex
            let qsRegex;
            let elements = document.querySelectorAll(gridItem);

            // init Isotope
            $container.isotope({
                itemSelector: gridItem,
                percentPosition: true,
                getSortData: {
                    charAsc: '.name',
                    charDesc: '.name',
                    ageAsc: '.age parseInt',
                    ageDesc: '.age parseInt',
                },
                sortAscending: {
                    charAsc: true,
                    charDesc: false,
                    ageAsc: true,
                    ageDesc: false,
                }
            });

        }).then(() => {

            const currentPage = window.location.pathname.split('/').pop();
            let removeProfile = document.querySelectorAll('.profile--remove')
            if (currentPage === 'directory.html') {
            removeProfile.forEach(item => item.remove());}
        
        }).then(() => {

            setTimeout(function() {
                $container.isotope('layout');
            }, 300);
            initIsotope();
        });
    </script>
</section>
    </body>
</html>